openapi: 3.0.0
info:
  title: RUXAILAB Accessibility API
  version: 2.0.0
  description: Fast accessibility testing API without database dependencies

paths:
  /api/v2/test:
    post:
      summary: Run flash accessibility test
      description: |
        Runs an accessibility test on a given URL and returns the results immediately without storing in Firebase Firestore.
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - url
              properties:
                url:
                  type: string
                  format: uri
                  description: The URL of the webpage to test
                  example: "https://www.example.com"
      responses:
        200:
          description: Flash accessibility test completed
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  message:
                    type: string
                    example: Flash accessibility test completed
                  url:
                    type: string
                    example: "https://example.com"
                  testDateTime:
                    type: string
                    format: date-time
                    description: When the test was performed
                  issues:
                    type: array
                    items:
                      type: object
                      description: Accessibility issues found
                  issueCount:
                    type: integer
                    description: Total number of issues found
                    example: 5
                  documentTitle:
                    type: string
                    description: Title of the tested webpage
                    example: "Example Page Title"
        400:
          description: Missing URL in request
        500:
          description: Internal server error
